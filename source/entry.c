#include "common.h"
#include "main.h"

uint32_t g_alreadyStarted = 0;

int __entry(int argc, char **argv) {

	InitOSFunctionPointers();
	InitVPadFunctionPointers();
	InitGX2FunctionPointers();
	InitSysFunctionPointers();
	InitSocketFunctionPointers();

	if(g_alreadyStarted && (OSGetTitleID() == 0x000500101004A100 || OSGetTitleID() == 0x000500101004A000 || OSGetTitleID() == 0x000500101004A200))
		return -3;

	g_alreadyStarted++;

	init_kernel_syscalls();
	memalign(4, 0x6200);

	log_init();
	log_printf("\n\n\n==================\nGameHackingHelper by NexoCube\n");
	log_printf("We're started ...\n\n");

	return Installer(argc, argv);

}